
> lodash@5.0.0 test
> mocha -r esm test/*.test.js



  "Strings" category methods
    âœ“ `_.camelCase` should return an empty string for empty values
    âœ“ `_.capitalize` should return an empty string for empty values
    âœ“ `_.escape` should return an empty string for empty values
    âœ“ `_.kebabCase` should return an empty string for empty values
    âœ“ `_.lowerCase` should return an empty string for empty values
    âœ“ `_.lowerFirst` should return an empty string for empty values
    âœ“ `_.pad` should return an empty string for empty values
    âœ“ `_.padEnd` should return an empty string for empty values
    âœ“ `_.padStart` should return an empty string for empty values
    âœ“ `_.repeat` should return an empty string for empty values
    âœ“ `_.snakeCase` should return an empty string for empty values
    âœ“ `_.trim` should return an empty string for empty values
    âœ“ `_.trimEnd` should return an empty string for empty values
    âœ“ `_.trimStart` should return an empty string for empty values
    âœ“ `_.truncate` should return an empty string for empty values
    âœ“ `_.unescape` should return an empty string for empty values
    âœ“ `_.upperCase` should return an empty string for empty values
    âœ“ `_.upperFirst` should return an empty string for empty values

  add
    âœ“ should add two numbers
    âœ“ should not coerce arguments to numbers

  after
    âœ“ should create a function that invokes `func` after `n` calls
    âœ“ should coerce `n` values of `NaN` to `0`
    âœ“ should use `this` binding of function

  at
    âœ“ should return the elements corresponding to the specified keys
    âœ“ should return `undefined` for nonexistent keys
    âœ“ should work with non-index keys on array values
    âœ“ should return an empty array when no keys are given
    âœ“ should accept multiple key arguments
    âœ“ should work with a falsey `object` when keys are given
    âœ“ should work with an `arguments` object for `object`
    âœ“ should work with `arguments` object as secondary arguments
    âœ“ should work with an object for `object`
    âœ“ should pluck inherited property values
    âœ“ should work in a lazy sequence
    âœ“ should support shortcut fusion
    âœ“ work with an object for `object` when chaining

  attempt
    âœ“ should return the result of `func`
    âœ“ should provide additional arguments to `func`
    âœ“ should return the caught error
    âœ“ should coerce errors to error objects
    âœ“ should preserve custom errors
    âœ“ should work with an error object from another realm
    âœ“ should return an unwrapped value when implicitly chaining
    âœ“ should return a wrapped value when explicitly chaining

  camelCase
    âœ“ should work with numbers
    âœ“ should handle acronyms

  capitalize
    âœ“ should capitalize the first character of a string

  case methods
    âœ“ `_.camelCase` should convert `string` to camel case
    âœ“ `_.camelCase` should handle double-converting strings
    âœ“ `_.camelCase` should remove contraction apostrophes
    âœ“ `_.camelCase` should remove Latin mathematical operators
    âœ“ `_.camelCase` should coerce `string` to a string
    âœ“ `_.kebabCase` should convert `string` to kebab case
    âœ“ `_.kebabCase` should handle double-converting strings
    âœ“ `_.kebabCase` should remove contraction apostrophes
    âœ“ `_.kebabCase` should remove Latin mathematical operators
    âœ“ `_.kebabCase` should coerce `string` to a string
    âœ“ `_.lowerCase` should convert `string` to lower case
    âœ“ `_.lowerCase` should handle double-converting strings
    âœ“ `_.lowerCase` should remove contraction apostrophes
    âœ“ `_.lowerCase` should remove Latin mathematical operators
    âœ“ `_.lowerCase` should coerce `string` to a string
    âœ“ `_.snakeCase` should convert `string` to snake case
    âœ“ `_.snakeCase` should handle double-converting strings
    âœ“ `_.snakeCase` should remove contraction apostrophes
    âœ“ `_.snakeCase` should remove Latin mathematical operators
    âœ“ `_.snakeCase` should coerce `string` to a string
    âœ“ `_.startCase` should convert `string` to start case
    âœ“ `_.startCase` should handle double-converting strings
    âœ“ `_.startCase` should remove contraction apostrophes
    âœ“ `_.startCase` should remove Latin mathematical operators
    âœ“ `_.startCase` should coerce `string` to a string
    âœ“ `_.upperCase` should convert `string` to upper case
    âœ“ `_.upperCase` should handle double-converting strings
    âœ“ `_.upperCase` should remove contraction apostrophes
    âœ“ `_.upperCase` should remove Latin mathematical operators
    âœ“ `_.upperCase` should coerce `string` to a string
    âœ“ should get the original value after cycling through all case methods

  castArray
    âœ“ should wrap non-array items in an array
    âœ“ should return array values by reference
    âœ“ should return an empty array when no arguments are given

  chunk
    âœ“ should return chunked arrays
    âœ“ should return the last chunk as remaining elements
    âœ“ should treat falsey `size` values, except `undefined`, as `0`
    âœ“ should ensure the minimum `size` is `0`
    âœ“ should coerce `size` to an integer

  create
    âœ“ should create an object that inherits from the given `prototype` object
    âœ“ should assign `properties` to the created object
    âœ“ should assign own properties
    âœ“ should assign properties that shadow those of `prototype`
    âœ“ should accept a falsey `prototype`
    âœ“ should accept a primitive `prototype`
    âœ“ should work as an iteratee for methods like `_.map`

  debounce
    âœ“ should debounce a function (258ms)
    âœ“ subsequent debounced calls return the last `func` result (129ms)
    âœ“ should not immediately call `func` when `wait` is `0`
    âœ“ should apply default options (64ms)
    âœ“ should support a `leading` option (66ms)
    âœ“ subsequent leading debounced calls return the last `func` result (64ms)
    âœ“ should support a `trailing` option (65ms)
    âœ“ should support a `maxWait` option (256ms)
    âœ“ should support `maxWait` in a tight loop (1002ms)
    âœ“ should queue a trailing call for subsequent debounced calls after `maxWait` (501ms)
    âœ“ should cancel `maxDelayed` when `delayed` is invoked (193ms)
    âœ“ should invoke the trailing call with the correct arguments and `this` binding (128ms)

  deburr
    âœ“ should convert Latin Unicode letters to basic Latin
    âœ“ should not deburr Latin mathematical operators
    âœ“ should deburr combining diacritical marks

  defaultTo
    âœ“ should return a default value if `value` is `NaN` or nullish

  defaults
    âœ“ should assign source properties if missing on `object`
    âœ“ should accept multiple sources
    âœ“ should not overwrite `null` values
    âœ“ should overwrite `undefined` values
    âœ“ should assign `undefined` values
    âœ“ should assign properties that shadow those on `Object.prototype`

  defer
    âœ“ should defer `func` execution
    âœ“ should provide additional arguments to `func`
    âœ“ should be cancelable

  differenceWith
    âœ“ should work with a `comparator`
    âœ“ should preserve the sign of `0`

  divide
    âœ“ should divide two numbers
    âœ“ should coerce arguments to numbers

  drop
    âœ“ should drop the first two elements
    âœ“ should treat falsey `n` values, except `undefined`, as `0`
    âœ“ should return all elements when `n` < `1`
    âœ“ should return an empty array when `n` >= `length`
    âœ“ should coerce `n` to an integer
    âœ“ should work in a lazy sequence

  dropRight
    âœ“ should drop the last two elements
    âœ“ should treat falsey `n` values, except `undefined`, as `0`
    âœ“ should return all elements when `n` < `1`
    âœ“ should return an empty array when `n` >= `length`
    âœ“ should coerce `n` to an integer
    âœ“ should work in a lazy sequence

  endsWith
    âœ“ should return `true` if a string ends with `target`
    âœ“ should return `false` if a string does not end with `target`
    âœ“ should work with a `position`
    âœ“ should work with `position` >= `length`
    âœ“ should treat falsey `position` values, except `undefined`, as `0`
    âœ“ should treat a negative `position` as `0`
    âœ“ should coerce `position` to an integer

  eq
    âœ“ should perform a `SameValueZero` comparison of two values

  escape
    âœ“ should escape values
    âœ“ should handle strings with nothing to escape
    1) should escape the same characters unescaped by `_.unescape`
    âœ“ should not escape the "`" character
    âœ“ should not escape the "/" character

  escapeRegExp
    âœ“ should escape values
    âœ“ should handle strings with nothing to escape
    âœ“ should return an empty string for empty values

  filter
    âœ“ should return elements `predicate` returns truthy for

  findLast
    âœ“ should work with an `arguments` object and a positive `fromIndex`
    âœ“ should work with an `arguments` object and a `fromIndex` >= `length`
    âœ“ should work with an `arguments` object and treat falsey `fromIndex` values correctly
    âœ“ should work with an `arguments` object and coerce `fromIndex` to an integer
    âœ“ should work with an `arguments` object and a negative `fromIndex`
    âœ“ should work with an `arguments` object and a negative `fromIndex` <= `-length`
    âœ“ should work with an array and a positive `fromIndex`
    âœ“ should work with an array and a `fromIndex` >= `length`
    âœ“ should work with an array and treat falsey `fromIndex` values correctly
    âœ“ should work with an array and coerce `fromIndex` to an integer
    âœ“ should work with an array and a negative `fromIndex`
    âœ“ should work with an array and a negative `fromIndex` <= `-length`

  findLastIndex and lastIndexOf
    âœ“ `_.findLastIndex` should return the index of the last matched value
    âœ“ `_.findLastIndex` should work with a positive `fromIndex`
    âœ“ `_.findLastIndex` should work with a `fromIndex` >= `length`
    âœ“ `_.findLastIndex` should work with a negative `fromIndex`
    âœ“ `_.findLastIndex` should work with a negative `fromIndex` <= `-length`
    âœ“ `_.findLastIndex` should treat falsey `fromIndex` values correctly
    âœ“ `_.findLastIndex` should coerce `fromIndex` to an integer
    âœ“ `_.lastIndexOf` should return the index of the last matched value
    âœ“ `_.lastIndexOf` should work with a positive `fromIndex`
    âœ“ `_.lastIndexOf` should work with a `fromIndex` >= `length`
    âœ“ `_.lastIndexOf` should work with a negative `fromIndex`
    âœ“ `_.lastIndexOf` should work with a negative `fromIndex` <= `-length`
    âœ“ `_.lastIndexOf` should treat falsey `fromIndex` values correctly
    âœ“ `_.lastIndexOf` should coerce `fromIndex` to an integer

  flip
    âœ“ should flip arguments provided to `func`

  flow methods
    âœ“ `_.flow` should supply each function with the return value of the previous
    âœ“ `_.flow` should return a new function
    âœ“ `_.flow` should work with a curried function and `_.head`
    âœ“ `_.flow` should work with curried functions with placeholders
    âœ“ `_.flowRight` should supply each function with the return value of the previous
    âœ“ `_.flowRight` should return a new function
    âœ“ `_.flowRight` should work with a curried function and `_.head`
    âœ“ `_.flowRight` should work with curried functions with placeholders

  forEach
    âœ“ should be aliased

  forEachRight
    âœ“ should be aliased

  functions
    âœ“ should return the function names of an object
    âœ“ should not include inherited functions

  gt
    âœ“ should return `true` if `value` > `other`
    âœ“ should return `false` if `value` is <= `other`

  gte
    âœ“ should return `true` if `value` >= `other`
    âœ“ should return `false` if `value` is less than `other`

  indexOf
    âœ“ `_.indexOf` should return the index of the first matched value
    âœ“ `_.indexOf` should work with a positive `fromIndex`
    âœ“ `_.indexOf` should work with a `fromIndex` >= `length`
    âœ“ `_.indexOf` should work with a negative `fromIndex`
    âœ“ `_.indexOf` should work with a negative `fromIndex` <= `-length`
    âœ“ `_.indexOf` should treat falsey `fromIndex` values as `0`
    âœ“ `_.indexOf` should coerce `fromIndex` to an integer

  intersectionWith
    âœ“ should work with a `comparator`
    âœ“ should preserve the sign of `0`

  invert
    âœ“ should invert an object
    âœ“ should work with values that shadow keys on `Object.prototype`
    âœ“ should work with an object that has a `length` property
    âœ“ should return a wrapped value when chaining

  isArguments
    âœ“ should return `true` for `arguments` objects
    âœ“ should return `false` for non `arguments` objects
    âœ“ should work with an `arguments` object from another realm

  isArrayBuffer
    âœ“ should return `true` for array buffers
    âœ“ should return `false` for non array buffers
    âœ“ should work with array buffers from another realm

  isArrayLike
    âœ“ should return `true` for array-like values
    âœ“ should return `false` for non-arrays
    âœ“ should work with an array from another realm

  isBoolean
    âœ“ should return `true` for booleans
    âœ“ should return `false` for non-booleans
    âœ“ should work with a boolean from another realm

  isBuffer
    âœ“ should return `true` for buffers
    âœ“ should return `false` for non-buffers
    âœ“ should return `false` if `Buffer` is not defined

  isDate
    âœ“ should return `true` for dates
    âœ“ should return `false` for non-dates
    âœ“ should work with a date object from another realm

  isElement
    âœ“ should return `true` for elements
    âœ“ should return `true` for non-plain objects
    âœ“ should return `false` for non DOM elements
    âœ“ should return `false` for plain objects
    âœ“ should work with a DOM element from another realm

  isError
    âœ“ should return `true` for error objects
    âœ“ should return `true` for subclassed values
    âœ“ should return `false` for non error objects
    âœ“ should return `false` for plain objects
    âœ“ should work with an error object from another realm

  isIndex
    âœ“ should return `true` for indexes
    âœ“ should return `false` for non-indexes

  isLength
    âœ“ should return `true` for lengths
    âœ“ should return `false` for non-lengths

  isMap
    âœ“ should return `true` for maps
    âœ“ should return `false` for non-maps
    âœ“ should work for objects with a non-function `constructor` (test in IE 11)
    âœ“ should work with maps from another realm

  isNil
    âœ“ should return `true` for nullish values
    âœ“ should return `false` for non-nullish values
    âœ“ should work with nils from another realm

  isNull
    âœ“ should return `true` for `null` values
    âœ“ should return `false` for non `null` values
    âœ“ should work with nulls from another realm

  isNumber
    âœ“ should return `true` for numbers
    âœ“ should return `false` for non-numbers
    âœ“ should work with numbers from another realm

  isObject
    âœ“ should return `true` for objects
    âœ“ should return `false` for non-objects
    âœ“ should work with objects from another realm

  isObjectLike
    âœ“ should return `true` for objects
    âœ“ should return `false` for non-objects
    âœ“ should work with objects from another realm

  isRegExp
    âœ“ should return `true` for regexes
    âœ“ should return `false` for non-regexes
    âœ“ should work with regexes from another realm

  isSet
    âœ“ should return `true` for sets
    âœ“ should return `false` for non-sets
    âœ“ should work for objects with a non-function `constructor` (test in IE 11)
    âœ“ should work with weak sets from another realm

  isString
    âœ“ should return `true` for strings
    âœ“ should return `false` for non-strings
    âœ“ should work with strings from another realm

  isSymbol
    âœ“ should return `true` for symbols
    âœ“ should return `false` for non-symbols
    âœ“ should work with symbols from another realm

  isUndefined
    âœ“ should return `true` for `undefined` values
    âœ“ should return `false` for non `undefined` values
    âœ“ should work with `undefined` from another realm

  isWeakMap
    âœ“ should return `true` for weak maps
    âœ“ should return `false` for non weak maps
    âœ“ should work for objects with a non-function `constructor` (test in IE 11)
    âœ“ should work with weak maps from another realm

  isWeakSet
    âœ“ should return `true` for weak sets
    âœ“ should return `false` for non weak sets
    âœ“ should work with weak sets from another realm

  lowerCase
    âœ“ should lowercase as space-separated words

  lowerFirst
    âœ“ should lowercase only the first character

  lt
    âœ“ should return `true` if `value` is less than `other`
    âœ“ should return `false` if `value` >= `other`

  lte
    âœ“ should return `true` if `value` is <= `other`
    âœ“ should return `false` if `value` > `other`

  mean
    âœ“ should return the mean of an array of numbers
    âœ“ should return `NaN` when passing empty `array` values

  memoize
    âœ“ should memoize results based on the first argument given
    âœ“ should support a `resolver`
    âœ“ should use `this` binding of function for `resolver`
    âœ“ should throw a TypeError if `resolve` is truthy and not a function
    âœ“ should not error if `resolver` is nullish
    âœ“ should check cache for own properties
    âœ“ should cache the `__proto__` key
    âœ“ should allow `_.memoize.Cache` to be customized
    âœ“ should works with an immutable `_.memoize.Cache` 

  memoizeCapped
    âœ“ should enforce a max cache size of `MAX_MEMOIZE_SIZE`

  merge
    âœ“ should merge `source` into `object`
    âœ“ should merge sources containing circular references
    âœ“ should work with four arguments
    âœ“ should merge onto function `object` values
    âœ“ should merge first source object properties to function
    âœ“ should merge first and second source object properties to function
    âœ“ should not merge onto function values of sources
    âœ“ should merge onto non-plain `object` values
    - should treat sparse array sources as dense
    âœ“ should merge `arguments` objects
    âœ“ should merge typed arrays
    âœ“ should assign `null` values
    âœ“ should assign non array/buffer/typed-array/plain-object source values directly
    âœ“ should clone buffer source values
    âœ“ should deep clone array/typed-array/plain-object source values
    âœ“ should not augment source objects
    âœ“ should merge plain objects onto non-plain objects
    âœ“ should not overwrite existing values with `undefined` values of object sources
    âœ“ should not overwrite existing values with `undefined` values of array sources
    âœ“ should skip merging when `object` and `source` are the same value
    âœ“ should convert values to arrays when merging arrays of `source`
    âœ“ should convert strings to arrays when merging arrays of `source`
    âœ“ should not error on DOM elements

  multiply
    âœ“ should multiply two numbers
    âœ“ should coerce arguments to numbers

  once
    âœ“ should invoke `func` once
    âœ“ should ignore recursive calls
    âœ“ should not throw more than once

  pickBy
    âœ“ should work with a predicate argument
    âœ“ should not treat keys with dots as deep paths

  property
    âœ“ should create a function that plucks a property value of a given object
    âœ“ should pluck deep property values
    âœ“ should pluck inherited property values
    âœ“ should work with a non-string `path`
    âœ“ should preserve the sign of `0`
    âœ“ should coerce `path` to a string
    âœ“ should pluck a key over a path
    âœ“ should return `undefined` when `object` is nullish
    âœ“ should return `undefined` for deep paths when `object` is nullish
    âœ“ should return `undefined` if parts of `path` are missing

  propertyOf
    âœ“ should create a function that plucks a property value of a given key
    âœ“ should pluck deep property values
    âœ“ should pluck inherited property values
    âœ“ should work with a non-string `path`
    âœ“ should preserve the sign of `0`
    âœ“ should coerce `path` to a string
    âœ“ should pluck a key over a path
    âœ“ should return `undefined` when `object` is nullish
    âœ“ should return `undefined` for deep paths when `object` is nullish
    âœ“ should return `undefined` if parts of `path` are missing

  pullAll
    âœ“ should work with the same value for `array` and `values`

  pullAllBy
    âœ“ should accept an `iteratee`
    âœ“ should provide correct `iteratee` arguments

  pullAllWith
    âœ“ should work with a `comparator`

  reject
    âœ“ should return elements the `predicate` returns falsey for

  replace
    âœ“ should replace the matched pattern

  result
    âœ“ should invoke function values
    âœ“ should invoke default function values
    âœ“ should invoke nested function values
    âœ“ should invoke deep property methods with the correct `this` binding

  size
    âœ“ should return the number of own enumerable string keyed properties of an object
    âœ“ should return the length of an array
    âœ“ should accept a falsey `object`
    âœ“ should work with `arguments` objects
    âœ“ should work with jQuery/MooTools DOM query collections
    âœ“ should work with maps
    âœ“ should work with sets
    âœ“ should not treat objects with negative lengths as array-like
    âœ“ should not treat objects with lengths larger than `MAX_SAFE_INTEGER` as array-like
    âœ“ should not treat objects with non-number lengths as array-like

  sortedUniq
    âœ“ should return unique values of a sorted array

  startCase
    âœ“ should uppercase only the first character of each word

  subtract
    âœ“ should subtract two numbers
    âœ“ should coerce arguments to numbers

  toArray
    âœ“ should convert objects to arrays
    âœ“ should convert iterables to arrays
    âœ“ should convert maps to arrays
    âœ“ should convert strings to arrays
    âœ“ should work in a lazy sequence

  toLength
    âœ“ should return a valid length
    âœ“ should return `value` if a valid length
    âœ“ should convert `-0` to `0`

  toString
    âœ“ should treat nullish values as empty strings
    âœ“ should preserve the sign of `0`
    âœ“ should preserve the sign of `0` in an array
    âœ“ should handle symbols
    âœ“ should handle an array of symbols
    âœ“ should return the `toString` result of the wrapped value

  unionWith
    âœ“ should work with a `comparator`
    âœ“ should output values from the first possible array

  uniqWith
    âœ“ should work with a `comparator`
    âœ“ should preserve the sign of `0`

  uniqueId
    âœ“ should generate unique ids
    âœ“ should return a string value when not providing a `prefix`
    âœ“ should coerce the prefix argument to a string

  upperCase
    âœ“ should uppercase as space-separated words

  upperFirst
    âœ“ should uppercase only the first character

  without
    âœ“ should return the difference of values
    âœ“ should use strict equality to determine the values to reject
    âœ“ should remove all occurrences of each value from an array

  words
    âœ“ should match words containing Latin Unicode letters
    âœ“ should support a `pattern`
    âœ“ should work with compound words
    âœ“ should work with compound words containing diacritical marks
    âœ“ should not treat contractions as separate words
    âœ“ should not treat ordinal numbers as separate words
    âœ“ should not treat mathematical operators as words
    âœ“ should not treat punctuation as words
    âœ“ should prevent ReDoS

  xorWith
    âœ“ should work with a `comparator`


  407 passing (3s)
  1 pending
  1 failing

  1) escape
       should escape the same characters unescaped by `_.unescape`:

      AssertionError [ERR_ASSERTION]: Expected values to be strictly equal:
[32m+ actual[39m [31m- expected[39m

[32m+[39m '&#39;&#39;&#39;&#39;&#39;/&#39;&#39;&#39;&#39;&#39;/'
[31m-[39m '&amp;&lt;&gt;&quot;&#39;/&amp;&lt;&gt;&quot;&#39;/'
      + expected - actual

      -&#39;&#39;&#39;&#39;&#39;/&#39;&#39;&#39;&#39;&#39;/
      +&amp;&lt;&gt;&quot;&#39;/&amp;&lt;&gt;&quot;&#39;/
      
      at Context.<anonymous> (/Users/chentianyu/Documents/temp/major/lodash/test/escape.test.js:22:12)
      at processImmediate (node:internal/timers:466:21)



