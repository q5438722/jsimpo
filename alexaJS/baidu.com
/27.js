define("modules/monitor/log-send",["require","exports"],function(e,t){"use strict";function o(e){if(!e)return!1;var t=document.cookie.indexOf("webbtest=1")>-1;return t||Math.random()<e}function n(e){return"1"===bds.comm.alwaysMonitor?(e.alwaysMonitor=1,!0):!1}function i(e,t){if(void 0===t&&(t="except"),!(e.group&&o(r.sample[e.group])||n(e.info)))return"";var i=e.pid||"1_87";bds.comm.ishome&&(i="1_79");var s=bds.comm.qid||bds.comm.queryId,a=r.logServer+"?pid="+i+"&lid="+s+"&ts="+Date.now()+"&type="+t+"&group="+e.group+"&info="+encodeURIComponent(JSON.stringify(e.info))+"&dim="+encodeURIComponent(JSON.stringify(e.dim||{})),c=new Image;return c.src=a,a}t.__esModule=!0,t.send=void 0;var r={pid:"1_87",sample:{jserror:.02,iframe:.02,resLoadSlow:.02,imgError:.02,resBigimg:.02,httpRes:.02,lsInfo:1,lsCost:.02,codeCoverage:.02,pcUrlUnEncode:.1,abblock:.01,ajaxError:.01},logServer:"https://sp1.baidu.com/5b1ZeDe5KgQFm2e88IuM_a/mwb2.gif"};t.send=i}),define("modules/monitor/js-except",["require","exports","modules/monitor/log-send"],function(e,t,o){"use strict";function n(e,t){if(t.indexOf("chrome-extension://")>-1||t.indexOf("moz-extension://")>-1)return!1;var o=e.toLowerCase();return"script error."===o||"script error"===o?!1:!0}function i(e,t){try{var i={info:{},dim:{},group:""},r=i.info,s=e.target||e.srcElement,a=navigator.connection||{};if(r.downlink=a.downlink,r.effectiveType=a.effectiveType,r.rtt=a.rtt,r.deviceMemory=navigator.deviceMemory||0,r.hardwareConcurrency=navigator.hardwareConcurrency||0,r.saveData=!!a.saveData,s!==window&&"onerror"!==t)return;var c=e.error||{},p=c.stack||"";e.message&&n(e.message,p)&&(i.group="jserror",r.msg=e.message,r.file=e.filename,r.ln=e.lineno,r.col=e.colno,r.stack=p.split("\n").slice(0,3).join("\n"),o.send(i))}catch(m){console.error(m)}}function r(){var e,t=!1,o=navigator.userAgent.toLowerCase(),n=/msie ([0-9]+)/.exec(o);if(n&&n[1]){if(e=parseInt(n[1],10),7>=e)return;9>=e&&(t=!0)}t?window.onerror=function(e,t,o,n){i({message:e,filename:t,lineno:o,colno:n},"onerror")}:window.addEventListener&&window.addEventListener("error",i,!0)}t.__esModule=!0,t.listenerExcept=void 0,t.listenerExcept=r}),define("modules/ajax-log/ajax-log.service",["require","exports","tslib","modules/monitor/log-send"],function(e,t,o,n){"use strict";function i(e,t,i){var r=Date.now(),s=o.__assign(o.__assign({},e),{msg:t,time:r-i}),a={group:"ajaxError",info:s};n.send(a,"except")}function r(e){return e>=200&&300>e}function s(e){if(!e||!e.entries())return"";for(var t=[],o=e.entries(),n=o.next();!n.done;n=o.next())t.push(n.value.join(": "));return t.join("\r\n")}function a(){XMLHttpRequest.prototype.open=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o={type:"xhr",method:e[0],url:e[1],msg:"",pageUrl:location.href};return $.extend(this,{xhrSpyInfo:o}),m.apply(this,e)},XMLHttpRequest.prototype.send=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this.xhrSpyInfo||{},n=Date.now(),s="string"==typeof e[0]?e[0]:"";return o.body=(s||"").slice(0,200),this.addEventListener("error",function(){(this.readyState!==XMLHttpRequest.DONE||r(this.status))&&i(o,"ajax network error",n)}),this.addEventListener("readystatechange",function(){this.readyState!==XMLHttpRequest.DONE||r(this.status)||i(o,"ajax error status-"+this.status,n)}),this.addEventListener("timeout",function(){i(o,"ajax timeout error",n)}),u.apply(this,e)}}function c(){var e=window.fetch;window.fetch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],a=t[1]||{body:"",method:"GET"},c="string"==typeof a.body?a.body:"",p=Date.now(),m={type:"fetch",method:a.method||"GET",url:r,body:(c||"").slice(0,200),msg:"",code:0,pageUrl:location.href};return e.apply(this,t).then(function(e){return e.ok||(m=o.__assign(o.__assign({},m),{response:s(e.headers),code:e.status}),e.clone().text().then(function(e){m.response=e}),i(m,"fetch error",p)),e})["catch"](function(e){var t=e.message||"fetch error";throw i(m,t,p),e})}}function p(){a(),c()}t.__esModule=!0,t.initInterceptor=t.initFetchInterceptor=t.initXHRInterceptor=t.fetchResponseHeadersToString=t.validateStatus=t.sendSpyLog=void 0;var m=XMLHttpRequest.prototype.open,u=XMLHttpRequest.prototype.send;t.sendSpyLog=i,t.validateStatus=r,t.fetchResponseHeadersToString=s,t.initXHRInterceptor=a,t.initFetchInterceptor=c,t.initInterceptor=p});var Cookie={set:function(e,t,o,n,i,r){document.cookie=e+"="+(r?t:escape(t))+(i?"; expires="+i.toGMTString():"")+(n?"; path="+n:"; path=/")+(o?"; domain="+o:"")},get:function(e,t){var o=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=o?unescape(o[2]):t},clear:function(e,t,o){this.get(e)&&(document.cookie=e+"="+(t?"; path="+t:"; path=/")+(o?"; domain="+o:"")+";expires=Fri, 02-Jan-1970 00:00:00 GMT")}};!function(){function save(e){var t=[],o=[],n=[];for(tmpName in options)options.hasOwnProperty(tmpName)&&"duRobotState"!==tmpName&&(t.push('"'+tmpName+'":"'+options[tmpName]+'"'),o.push(tmpName),n.push(String(options[tmpName])));var i="{"+t.join(",")+"}";if(bds.comm.personalData)if(bds.comm.isNode){var r=$("#bsToken")&&$("#bsToken").val()||"";$.ajax({url:"/home/data/setups?bsToken="+r,type:"POST",data:JSON.stringify({props:o,values:n}),headers:{"Content-Type":"application/json"},traditional:!0,success:function(){writeCookie(),"function"==typeof e&&e()}})}else $.ajax({url:"/ups/submit/addtips?product=ps&from=pcfe&tips="+encodeURIComponent(i)+"&_r="+(new Date).getTime(),success:function(){writeCookie(),"function"==typeof e&&e()}});else writeCookie(),"function"==typeof e&&setTimeout(e,0)}function set(e,t){options[e]=t}function get(e){return options[e]}function writeCookie(){if(options.hasOwnProperty("sugSet")){var e="0"==options.sugSet?"0":"3";clearCookie("sug"),Cookie.set("sug",e,document.domain,"/",expire30y)}if(options.hasOwnProperty("sugStoreSet")){var e=0==options.sugStoreSet?"0":"1";clearCookie("sugstore"),Cookie.set("sugstore",e,document.domain,"/",expire30y)}var t=Cookie.get("BAIDUID"),o=t.match(/NR=(\d+)/)?t.match(/NR=(\d+)/)[1]:"";if(options.resultNum&&o!==options.resultNum.toString()&&writeBAIDUID(),options.hasOwnProperty("isSwitch")){var n={0:"2",1:"0",2:"1"},e=n[options.isSwitch];clearCookie("ORIGIN"),Cookie.set("ORIGIN",e,document.domain,"/",expire30y)}if(options.hasOwnProperty("imeSwitch")){var e=options.imeSwitch;clearCookie("bdime"),Cookie.set("bdime",e,document.domain,"/",expire30y)}}function writeBAIDUID(){var e,t,o,n=Cookie.get("BAIDUID");/FG=(\d+)/.test(n)&&(t=RegExp.$1),/SL=(\d+)/.test(n)&&(o=RegExp.$1),/NR=(\d+)/.test(n)&&(e=RegExp.$1),options.hasOwnProperty("resultNum")&&(e=options.resultNum),options.hasOwnProperty("resultLang")&&(o=options.resultLang),Cookie.set("BAIDUID",n.replace(/:.*$/,"")+("undefined"!=typeof o?":SL="+o:"")+("undefined"!=typeof e?":NR="+e:"")+("undefined"!=typeof t?":FG="+t:""),".baidu.com","/",expire30y,!0)}function clearCookie(e){Cookie.clear(e,"/"),Cookie.clear(e,"/",document.domain),Cookie.clear(e,"/","."+document.domain),Cookie.clear(e,"/",".baidu.com")}function reset(e){options=defaultOptions,save(e)}var defaultOptions={sugSet:1,sugStoreSet:1,isSwitch:1,isJumpHttps:1,imeSwitch:0,resultNum:10,skinOpen:1,resultLang:0,duRobotState:"000"},options={},tmpName,expire30y=new Date;expire30y.setTime(expire30y.getTime()+94608e7);try{if(bds&&bds.comm&&bds.comm.personalData){if("string"==typeof bds.comm.personalData&&(bds.comm.personalData=eval("("+bds.comm.personalData+")")),!bds.comm.personalData)return;for(tmpName in bds.comm.personalData)defaultOptions.hasOwnProperty(tmpName)&&bds.comm.personalData.hasOwnProperty(tmpName)&&"SUCCESS"==bds.comm.personalData[tmpName].ErrMsg&&(options[tmpName]=bds.comm.personalData[tmpName].value)}try{parseInt(options.resultNum)||delete options.resultNum,parseInt(options.resultLang)||"0"==options.resultLang||delete options.resultLang}catch(e){}writeCookie(),"sugSet"in options||(options.sugSet=3!=Cookie.get("sug",3)?0:1),"sugStoreSet"in options||(options.sugStoreSet=Cookie.get("sugstore",0));var BAIDUID=Cookie.get("BAIDUID");"resultNum"in options||(options.resultNum=/NR=(\d+)/.test(BAIDUID)&&RegExp.$1?parseInt(RegExp.$1):10),"resultLang"in options||(options.resultLang=/SL=(\d+)/.test(BAIDUID)&&RegExp.$1?parseInt(RegExp.$1):0),"isSwitch"in options||(options.isSwitch=2==Cookie.get("ORIGIN",0)?0:1==Cookie.get("ORIGIN",0)?2:1),"imeSwitch"in options||(options.imeSwitch=Cookie.get("bdime",0))}catch(e){}window.UPS={writeBAIDUID:writeBAIDUID,reset:reset,get:get,set:set,save:save}}(),function(){require(["modules/monitor/js-except"],function(e){e.listenerExcept()});var e=bds&&bds.comm&&bds.comm.sampleval&&bds.comm.sampleval.indexOf("result_ajax_error")>-1||bds&&bds.comm&&bds.comm.nodeSample&&bds.comm.nodeSample.indexOf("result_ajax_error")>-1;e&&require(["modules/ajax-log/ajax-log.service"],function(e){e.initInterceptor()});var t="https://pss.bdstatic.com/r/www/cache/static/protocol/https/plugins/every_cookie_4644b13.js";("Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform)&&(t="https://pss.bdstatic.com/r/www/cache/static/protocol/https/plugins/every_cookie_mac_82990d4.js"),setTimeout(function(){$.ajax({url:t,cache:!0,dataType:"script"})},0);var o=navigator&&navigator.userAgent?navigator.userAgent:"",n=document&&document.cookie?document.cookie:"",i=!!(o.match(/(msie [2-8])/i)||o.match(/windows.*safari/i)&&!o.match(/chrome/i)||o.match(/(linux.*firefox)/i)||o.match(/Chrome\/29/i)||o.match(/mac os x.*firefox/i)||n.match(/\bISSW=1/)||0==UPS.get("isSwitch"));bds&&bds.comm&&(bds.comm.supportis=!i,bds.comm.isui=!0),window.__restart_confirm_timeout=!0,window.__confirm_timeout=8e3,window.__disable_is_guide=!0,window.__disable_swap_to_empty=!0,window.__switch_add_mask=!0,bds.comm.newindex&&$(window).on("index_off",function(){$('<div class="c-tips-container" id="c-tips-container"></div>').insertAfter("#wrapper"),window.__sample_dynamic_tab&&$("#s_tab").remove()}),bds.comm&&bds.comm.ishome&&Cookie.get("H_PS_PSSID")&&(bds.comm.indexSid=Cookie.get("H_PS_PSSID"));var r=$(document).find("#s_tab").find("a");r&&r.length>0&&r.each(function(e,t){t.innerHTML&&t.innerHTML.match(/新闻/)&&(t.innerHTML="资讯",t.href="//www.baidu.com/s?rtt=1&bsst=1&cl=2&tn=news&word=",t.setAttribute("sync",!0))})}();